'use strict';

Object.defineProperty(exports, '__esModule', { value: true });

var index = require('../../utils/index.js');
var dom = require('../../utils/dom.js');
var unwrapElement = require('../utils/unwrap-element.js');
var getCssDemenssions = require('../utils/get-css-demenssions.js');

function getScale(element) {
  const domElement = unwrapElement.unwrapElement(element);
  if (!dom.isHTMLElement(domElement)) {
    return index.createCoords(1);
  }
  const rect = domElement.getBoundingClientRect();
  const { width, height, $ } = getCssDemenssions.getCssDimensions(domElement);
  let x = ($ ? index.round(rect.width) : rect.width) / width;
  let y = ($ ? index.round(rect.height) : rect.height) / height;
  if (!x || !Number.isFinite(x)) {
    x = 1;
  }
  if (!y || !Number.isFinite(y)) {
    y = 1;
  }
  return {
    x,
    y
  };
}

exports.getScale = getScale;
//# sourceMappingURL=get-scale.js.map
